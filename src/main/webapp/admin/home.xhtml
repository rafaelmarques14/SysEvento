<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>Lista de Usuários</title>
    <style>
        .title {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
    </style>
</h:head>
<h:body>
    <f:metadata>
        <f:viewAction action="#{usuarioMB.verificarAutenticacao}" />
        <f:viewAction action="#{usuarioMB.listarUsuarios}" />
    </f:metadata>

    <div class="card">
        <h:form id="menuForm">
            <p:growl id="messages" autoUpdate="true"/>
            <p:menubar hideDelay="1000">
                <p:menuitem value="Logout" action="#{usuarioMB.logout}" icon="pi pi-sign-out"/>
            </p:menubar>
        </h:form>
    </div>

    <h:form>
        <h1 class="title">Lista de Usuários</h1>

        <p:dataTable id="userTable" var="usuario" value="#{usuarioMB.usuarios}" bordered="true" striped="true">
            <p:column headerText="Nome">
                <h:outputText value="#{usuario.nome}" />
            </p:column>
            <p:column headerText="Email">
                <h:outputText value="#{usuario.email}" />
            </p:column>
            <p:column headerText="Perfil">
                <h:outputText value="#{usuario.perfil}" />
            </p:column>
        </p:dataTable>

        <p:messages autoUpdate="true" />
    </h:form>
</h:body>
</html>
